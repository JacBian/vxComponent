var Z=Object.defineProperty,q=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var B=(e,t,o)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,g=(e,t)=>{for(var o in t||(t={}))U.call(t,o)&&B(e,o,t[o]);if(z)for(var o of z(t))W.call(t,o)&&B(e,o,t[o]);return e},k=(e,t)=>q(e,G(t));import{v as H,a as K,T as J,r as L}from"./framework.71d6f22a.js";import{u as Q}from"./index.91f23903.js";import{a as R,b as X,T as $,E as N}from"./index.e7abe452.js";import{a as Y,d as C,u as _,_ as x,e as ee}from"./plugin-vue_export-helper.1944e676.js";import{d as te,k as oe,c as y,h as ne,y as D,o as m,z as h,A as I,B as F,e as v,v as p,C as se,D as T,F as P,x as A,t as ie,b as O,H as ae,G as V,a9 as M}from"./framework.f055ea7d.js";import{c as le,i as re}from"./index.de32cb22.js";import{u as fe}from"./index.c2f26a54.js";const j=["success","info","warning","error"],ce=Y({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:C([String,Object]),default:""},id:{type:String,default:""},message:{type:C([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:C(Function),default:()=>{}},onClose:{type:C(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...j,""],default:""},zIndex:{type:Number,default:0}}),ue={destroy:()=>!0},de=te({name:"ElNotification",components:g({ElIcon:R},X),props:ce,emits:ue,setup(e){const t=_("notification"),o=oe(!1);let i;const l=y(()=>{const d=e.type;return d&&$[e.type]?t.m(d):""}),c=y(()=>$[e.type]||e.icon||""),r=y(()=>e.position.endsWith("right")?"right":"left"),a=y(()=>e.position.startsWith("top")?"top":"bottom"),n=y(()=>({[a.value]:`${e.offset}px`,zIndex:e.zIndex}));function s(){e.duration>0&&({stop:i}=le(()=>{o.value&&u()},e.duration))}function f(){i==null||i()}function u(){o.value=!1}function S({code:d}){d===N.delete||d===N.backspace?f():d===N.esc?o.value&&u():s()}return ne(()=>{s(),o.value=!0}),Q(document,"keydown",S),{ns:t,horizontalClass:r,typeClass:l,iconComponent:c,positionStyle:n,visible:o,close:u,clearTimer:f,startTimer:s}}}),me=["id"],pe=["textContent"],ye={key:0},ve=["innerHTML"];function ge(e,t,o,i,l,c){const r=D("el-icon"),a=D("close");return m(),h(J,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[3]||(t[3]=n=>e.$emit("destroy"))},{default:I(()=>[F(v("div",{id:e.id,class:p([e.ns.b(),e.customClass,e.horizontalClass]),style:A(e.positionStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...n)=>e.clearTimer&&e.clearTimer(...n)),onMouseleave:t[1]||(t[1]=(...n)=>e.startTimer&&e.startTimer(...n)),onClick:t[2]||(t[2]=(...n)=>e.onClick&&e.onClick(...n))},[e.iconComponent?(m(),h(r,{key:0,class:p([e.ns.e("icon"),e.typeClass])},{default:I(()=>[(m(),h(se(e.iconComponent)))]),_:1},8,["class"])):T("v-if",!0),v("div",{class:p(e.ns.e("group"))},[v("h2",{class:p(e.ns.e("title")),textContent:P(e.title)},null,10,pe),F(v("div",{class:p(e.ns.e("content")),style:A(e.title?void 0:{margin:0})},[ie(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),O(ae,{key:1},[T(" Caution here, message could've been compromized, nerver use user's input as message "),T(" eslint-disable-next-line "),v("p",{innerHTML:e.message},null,8,ve)],2112)):(m(),O("p",ye,P(e.message),1))])],6),[[H,e.message]]),e.showClose?(m(),h(r,{key:0,class:p(e.ns.e("closeBtn")),onClick:K(e.close,["stop"])},{default:I(()=>[V(a)]),_:1},8,["class","onClick"])):T("v-if",!0)],2)],46,me),[[H,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var Ce=x(de,[["render",ge]]);const b={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},w=16;let he=1;const E=function(e={}){if(!re)return{close:()=>{}};(typeof e=="string"||M(e))&&(e={message:e});const t=e.position||"top-right";let o=e.offset||0;b[t].forEach(({vm:f})=>{var u;o+=(((u=f.el)==null?void 0:u.offsetHeight)||0)+w}),o+=w;const{nextZIndex:i}=fe(),l=`notification_${he++}`,c=e.onClose,r=k(g({zIndex:i(),offset:o},e),{id:l,onClose:()=>{Te(l,t,c)}});let a=document.body;e.appendTo instanceof HTMLElement?a=e.appendTo:typeof e.appendTo=="string"&&(a=document.querySelector(e.appendTo)),a instanceof HTMLElement||(a=document.body);const n=document.createElement("div"),s=V(Ce,r,M(r.message)?{default:()=>r.message}:null);return s.props.onDestroy=()=>{L(null,n)},L(s,n),b[t].push({vm:s}),a.appendChild(n.firstElementChild),{close:()=>{s.component.proxy.visible=!1}}};j.forEach(e=>{E[e]=(t={})=>((typeof t=="string"||M(t))&&(t={message:t}),E(k(g({},t),{type:e})))});function Te(e,t,o){const i=b[t],l=i.findIndex(({vm:s})=>{var f;return((f=s.component)==null?void 0:f.props.id)===e});if(l===-1)return;const{vm:c}=i[l];if(!c)return;o==null||o(c);const r=c.el.offsetHeight,a=t.split("-")[0];i.splice(l,1);const n=i.length;if(!(n<1))for(let s=l;s<n;s++){const{el:f,component:u}=i[s].vm,S=parseInt(f.style[a],10)-r-w;u.props.offset=S}}function be(){for(const e of Object.values(b))e.forEach(({vm:t})=>{t.component.proxy.visible=!1})}E.closeAll=be;const Be=ee(E,"$notify");export{Be as E};
