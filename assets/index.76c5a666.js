import{o as i}from"./event.94d02fb8.js";import{i as x}from"./index.de32cb22.js";const o=new Map;let d;x&&(i(document,"mousedown",e=>d=e),i(document,"mouseup",e=>{for(const t of o.values())for(const{documentHandler:n}of t)n(e,d)}));function f(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:t.arg instanceof HTMLElement&&n.push(t.arg),function(a,s){const c=t.instance.popperRef,r=a.target,u=s==null?void 0:s.target,p=!t||!t.instance,m=!r||!u,h=e.contains(r)||e.contains(u),g=e===r,H=n.length&&n.some(l=>l==null?void 0:l.contains(r))||n.length&&n.includes(u),v=c&&(c.contains(r)||c.contains(u));p||m||h||g||H||v||t.value(a,s)}}const y={beforeMount(e,t){o.has(e)||o.set(e,[]),o.get(e).push({documentHandler:f(e,t),bindingFn:t.value})},updated(e,t){o.has(e)||o.set(e,[]);const n=o.get(e),a=n.findIndex(c=>c.bindingFn===t.oldValue),s={documentHandler:f(e,t),bindingFn:t.value};a>=0?n.splice(a,1,s):n.push(s)},unmounted(e){o.delete(e)}};export{y as C};
